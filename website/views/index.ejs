<%- include('partials/header') %>

<div class="auth-container">
  <!-- Login Form -->
  <form
    id="login-form"
    action="/login"
    method="POST"
    style="<%= (locals.form === 'register') ? 'display:none;' : '' %>"
  >
    <h2>Login</h2>
    <% if (locals.error && locals.form !== 'register') { %>
    <p class="error"><%= error %></p>
    <% } %> <% if (locals.message) { %>
    <p class="message"><%= message %></p>
    <% } %>
    <input type="text" name="username" placeholder="Username" required />
    <input type="password" name="password" placeholder="Password" required />
    <button type="submit">Login</button>
    <p class="auth-toggle">
      Don't have an account? <a onclick="toggleForms()">Register</a>
    </p>
  </form>

  <!-- Register Form -->
  <form
    id="register-form"
    action="/register"
    method="POST"
    style="<%= (locals.form === 'register') ? '' : 'display:none;' %>"
  >
    <h2>Create Account</h2>
    <% if (locals.error && locals.form === 'register') { %>
    <p class="error"><%= error %></p>
    <% } %>
    <input type="text" name="username" placeholder="Username" required />
    <input type="password" name="password" placeholder="Password" required />
    <button type="submit">Register</button>
    <p class="auth-toggle">
      Already have an account? <a onclick="toggleForms()">Login</a>
    </p>
  </form>
</div>

<script>
  function toggleForms() {
    const loginForm = document.getElementById("login-form");
    const registerForm = document.getElementById("register-form");
    loginForm.style.display =
      loginForm.style.display === "none" ? "block" : "none";
    registerForm.style.display =
      registerForm.style.display === "none" ? "block" : "none";
  }
</script>

<%- include('partials/footer') %>
